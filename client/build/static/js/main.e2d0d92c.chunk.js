(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{55:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),s=n(24),r=n.n(s),i=n(27),a=n(2),l=n(30),u=n(25),d=n(26),j=n(31),h=n(29),v=n(1);var b=function(){return Object(v.jsx)("div",{})},f=n(14).default,O=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).state={},c}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.search=function(){var t=document.getElementById("searchInput").value;f.get("https://www.googleapis.com/books/v1/volumes?q=".concat(t.replace(" ","%20"))).then((function(t){var n=t.data.items,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log(t);var c,o=!0,s=Object(l.a)(n);try{for(s.s();!(c=s.n()).done;){var r=c.value,i=r.saved;i||"undefined"!=typeof i&&"object"!=typeof i||(o=!1),console.log("forever")}}catch(a){s.e(a)}finally{s.f()}o&&e.setState({results:n})},o=function(e){f.get("/books?id=".concat(n[e].id)).then((function(t){var o=e;200==t.status?n[o].saved=!0:n[o].saved=!1,console.log(e,n[o].saved),c(e)})).catch((function(t){var o=e;n[o].saved=!1,console.log(e,n[o].saved),c(e)})),console.log("forev ssser")};for(var s in n)o(s)}))},this.saveBook=function(t,n){console.log(t),f({method:"post",url:"/books",data:{id:t.id,title:t.volumeInfo.title,author:t.volumeInfo.authors?t.volumeInfo.authors[0]:t.volumeInfo.publisher,synopsis:t.volumeInfo.description,url:t.volumeInfo.infoLink}}).catch((function(e){return console.error(e)})),e.setState((function(e){var t=e;return t.results[n].saved=!1,t}))}}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{id:"searchInput",type:"text"}),Object(v.jsx)("button",{onClick:function(){return e.search()},children:"Search"}),Object(v.jsx)("div",{children:function(){if(e.state.results){var t=[];return console.log(e.state.results),e.state.results.map((function(n,c){t.push(Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:n.volumeInfo.title}),Object(v.jsx)("p",{children:n.volumeInfo.description||"No description found."}),Object(v.jsx)("a",{href:n.volumeInfo.infoLink,children:"Google books page"}),Object(v.jsx)("div",{id:"saveButton",children:n.saved?Object(v.jsx)("button",{className:"disabled",children:"Saved \u2713"}):Object(v.jsx)("button",{onClick:function(){return e.saveBook(n,c)},children:"Save"})})]},"result-item-".concat(c)))})),t}return Object(v.jsx)("p",{children:"Begin by searching for a book"})}()})]})}}]),n}(o.a.Component);n(55),n(14).default;var x=function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("header",{children:[Object(v.jsx)("h1",{children:"Google books search"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"/search",children:"Search"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"/saved",children:"Saved"})})]})]}),Object(v.jsx)(i.a,{children:Object(v.jsxs)(a.c,{children:[Object(v.jsx)(a.a,{exact:!0,path:"/",children:Object(v.jsx)(O,{})}),Object(v.jsx)(a.a,{path:"/search",children:Object(v.jsx)(O,{})}),Object(v.jsx)(a.a,{path:"/saved",children:Object(v.jsx)(b,{})})]})})]})};r.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(x,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.e2d0d92c.chunk.js.map