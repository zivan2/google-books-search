(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(29),o=n.n(r),a=n(30),i=n(2),u=n(9),l=n.n(u),j=n(18),d=n(11),h=n(12),b=n(14),v=n(13),f=n(1),p=n(17).default,x=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this)).state={},c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("SDAAAAA"),p.get("/booksall").then((function(t){e.setState({books:t.data})}))}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:function(){if(e.state.books){var t=[];return e.state.books.map((function(e,n){t.push(Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[e.title," - ",e.author]}),Object(f.jsx)("p",{children:e.synopsis||"No description found."}),Object(f.jsx)("a",{href:e.url,children:"Google books page"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){},children:"Delete"})]},"result-item-".concat(n)))})),t}return Object(f.jsx)("p",{children:"No saved books"})}()})}}]),n}(c.Component),O=n(17).default,k=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={},c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.search=Object(j.a)(l.a.mark((function t(){var n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("searchInput").value,t.prev=1,t.next=4,O.get("https://www.googleapis.com/books/v1/volumes?q=".concat(n.replace(" ","%20")));case 4:c=t.sent.data.items,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:t.t1=l.a.keys(c);case 11:if((t.t2=t.t1()).done){t.next=25;break}return s=t.t2.value,t.prev=13,t.next=16,O.get("/books?id=".concat(c[s].id));case 16:200==t.sent.status?c[s].saved=!0:c[s].saved=!1,t.next=23;break;case 20:t.prev=20,t.t3=t.catch(13),c[s].saved=!1;case 23:t.next=11;break;case 25:e.setState((function(e){return{results:c}}));case 26:case"end":return t.stop()}}),t,null,[[1,7],[13,20]])}))),this.saveBook=function(){var t=Object(j.a)(l.a.mark((function t(n,c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.prev=1,t.next=4,O({method:"post",url:"/books",data:{id:n.id,title:n.volumeInfo.title,author:n.volumeInfo.authors?n.volumeInfo.authors[0]:n.volumeInfo.publisher,synopsis:n.volumeInfo.description,url:n.volumeInfo.infoLink}});case 4:t.sent,e.setState((function(e){var t=e;return t.results[c].saved=!0,t})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{id:"searchInput",type:"text"}),Object(f.jsx)("button",{onClick:function(){return e.search()},children:"Search"}),Object(f.jsx)("div",{children:function(){if(e.state.results){var t=[];return console.log(e.state.results),e.state.results.map((function(n,c){t.push(Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:n.volumeInfo.title}),Object(f.jsx)("p",{children:n.volumeInfo.description||"No description found."}),Object(f.jsx)("a",{href:n.volumeInfo.infoLink,children:"Google books page"}),Object(f.jsx)("div",{id:"saveButton",children:n.saved?Object(f.jsx)("button",{className:"disabled",children:"Saved \u2713"}):Object(f.jsx)("button",{onClick:function(){var t=n,s=c;e.saveBook(t,s)},children:"Save"})})]},"result-item-".concat(c)))})),t}return Object(f.jsx)("p",{children:"Begin by searching for a book"})}()})]})}}]),n}(s.a.Component);n(56),n(17).default;var m=function(){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("h1",{children:"Google books search"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"/search",children:"Search"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"/saved",children:"Saved"})})]})]}),Object(f.jsx)(a.a,{children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",children:Object(f.jsx)(k,{})}),Object(f.jsx)(i.a,{path:"/search",children:Object(f.jsx)(k,{})}),Object(f.jsx)(i.a,{path:"/saved",children:Object(f.jsx)(x,{})})]})})]})};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.709db9d7.chunk.js.map