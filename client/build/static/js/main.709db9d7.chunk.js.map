{"version":3,"sources":["Saved.js","Search.js","App.js","index.js"],"names":["axios","require","default","Saved","props","state","console","log","get","then","r","setState","books","data","rend","map","item","i","push","title","author","synopsis","href","url","onClick","Component","Search","this","search","a","query","document","getElementById","value","replace","items","error","id","status","saved","results","saveBook","book","method","volumeInfo","authors","publisher","description","infoLink","newState","type","className","thisItem","thisIndex","React","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.709db9d7.chunk.js","sourcesContent":["import {Component} from 'react'\r\nlet axios = require('axios').default\r\n\r\nclass Saved extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.state = {}\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"SDAAAAA\")\r\n        axios.get('/booksall').then(r => {\r\n            this.setState({books: r.data})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n            {(() => {\r\n                if (this.state.books) {\r\n                    let rend = []\r\n                    this.state.books.map((item, i) => {\r\n                        rend.push(\r\n                            <div key={`result-item-${i}`}>\r\n                                <h3>{item.title} - {item.author}</h3>\r\n                                <p>{item.synopsis || 'No description found.'}</p>\r\n                                <a href={item.url}>Google books page</a><br></br>\r\n                                <button onClick={() => {\r\n                                    \r\n                                }}>Delete</button>\r\n                            </div>\r\n                        )\r\n                    })\r\n                    return rend\r\n                } else {\r\n                    return (<p>No saved books</p>)\r\n                }\r\n            })()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Saved","import React from 'react'\r\nimport Saved from './Saved'\r\nlet axios = require('axios').default\r\n\r\nclass Search extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.search = async () => {\r\n            let query = document.getElementById('searchInput').value\r\n            let items\r\n            try {\r\n                items = (await axios.get(`https://www.googleapis.com/books/v1/volumes?q=${query.replace(' ', '%20')}`)).data.items\r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n\r\n            let r\r\n            for (let i in items) {\r\n                try {\r\n                    r = await axios.get(`/books?id=${items[i].id}`)\r\n                    if (r.status == 200) {\r\n                        items[i].saved = true\r\n                    } else {\r\n                        items[i].saved = false\r\n                    }\r\n                } catch (err) {\r\n                    items[i].saved = false\r\n                }\r\n            }\r\n            \r\n            this.setState(state => { return { results: items } })\r\n        }\r\n        this.saveBook = async (book, i) => {\r\n            console.log(book)\r\n            let r\r\n            try {\r\n                r = await axios({\r\n                    method: 'post',\r\n                    url: '/books',\r\n                    data: {\r\n                        id: book.id,\r\n                        title: book.volumeInfo.title,\r\n                        author: book.volumeInfo.authors ? book.volumeInfo.authors[0] : book.volumeInfo.publisher,\r\n                        synopsis: book.volumeInfo.description,\r\n                        url: book.volumeInfo.infoLink\r\n                    }\r\n                })\r\n                this.setState(state => {\r\n                    let newState = state\r\n                    newState.results[i].saved = true\r\n                    return newState\r\n                })\r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input id='searchInput' type='text'></input>\r\n                <button onClick={() => this.search()}>Search</button>\r\n                <div>\r\n                    {\r\n                        (() => {\r\n                            if (!this.state.results) {\r\n                                return (<p>Begin by searching for a book</p>)\r\n                            } else {\r\n                                let rend = []\r\n                                console.log(this.state.results)\r\n                                this.state.results.map((item, i) => {\r\n                                    rend.push (\r\n                                        <div key={`result-item-${i}`}>\r\n                                            <h3>{item.volumeInfo.title}</h3>\r\n                                            <p>{item.volumeInfo.description || 'No description found.'}</p>\r\n                                            <a href={item.volumeInfo.infoLink}>Google books page</a>\r\n                                            <div id='saveButton'>\r\n                                                {(() => {\r\n                                                    if (!item.saved) { \r\n                                                        return (\r\n                                                            <button onClick={() => {\r\n                                                                let thisItem = item\r\n                                                                let thisIndex = i\r\n                                                                this.saveBook(thisItem, thisIndex)\r\n                                                            }}>Save</button>\r\n                                                        )\r\n                                                    } else {\r\n                                                        return (\r\n                                                            <button className='disabled'>Saved âœ“</button>\r\n                                                        )\r\n                                                    }\r\n                                                })()}\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                return rend\r\n                            }\r\n                        })()\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\"\nimport Search from './Search.js'\nimport Saved from './Saved.js'\nimport './bootstrap.css'\nlet axios = require('axios').default\n\n\nfunction App() {\n  return (\n    <div>\n      <header>\n        <h1>Google books search</h1>\n        <ul>\n          <li>\n            <a href='/search'>Search</a>\n          </li>\n          <li>\n            <a href='/saved'>Saved</a>\n          </li>\n        </ul>\n      </header>\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n            <Search />\n          </Route>\n          <Route path='/search'>\n            <Search />\n          </Route>\n          <Route path='/saved'>\n            <Saved />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}